# 1.2 万一手滑了怎么办?

我之前可能有提到过Vulkan自带一个非常强大的验证层(Validation Layer),可以帮我们打打log,看看内存泄漏,之类的,总之是贤妻良母级别的.

首先呢,之前我们一直是在```main.rs```中创建EventsLoop的,我们可以把这个加入到```App```中,反正也就有一个loop

```rust
use super::super::events_handler::*;
use super::vki::*;
use winit::EventsLoop;
use super::super::window::*;
pub const WINDOW_TITLE: &'static str = "When Vulkan meets Rust";

pub struct App {
    pub window: winit::Window,
    pub vki: VKI,
    pub events_loop: EventsLoop,
}

impl App {
    pub fn new() -> App {
        let ev = EventsLoop::new();
        let window = window_create(WINDOW_TITLE, 800, 600, &ev);
        return App {
            window: window,
            vki: VKI::new(),
            events_loop: ev,
        };
    }
    pub fn main_loop(&mut self) {
        self.events_loop.run_forever(event_handler);
    }
}

```
然后把 ```window.rs```里的```String``` 换成```&'static str```这样能提升性能(忽略不计的)

